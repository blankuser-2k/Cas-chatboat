<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CAS Chat — CAS Vattamkulam</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Abril+Fatface&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --rose: #ff9acb;
      --blue: #6ea8ff;
      --accent-blue: #0b63ff;
      --bot-green: #39ff14;
      --black: #0b0b0b;
      --glass: rgba(255,255,255,0.85);
      --input-bg: rgba(255,255,255,0.92);
      --suggest-bg: rgba(255,255,255,0.95);
      --suggest-border: rgba(11,63,136,0.06);
    }
    html,body { height:100%; margin:0; font-family:"Poppins",system-ui,Arial,sans-serif; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; }
    body{
      background: linear-gradient(135deg, var(--rose) 0%, #ffd7e6 28%, #cfe7ff 72%, var(--blue) 100%);
      display:flex; align-items:center; justify-content:center; padding:18px; box-sizing:border-box;
    }
    .container { width:100%; max-width:980px; height:92vh; display:flex; flex-direction:column; border-radius:18px; overflow:hidden;
      box-shadow: 0 22px 50px rgba(16,24,40,0.18);
      background: linear-gradient(180deg, var(--glass), rgba(255,255,255,0.6));
      border: 1px solid rgba(255,255,255,0.22); }
    header { display:flex; gap:14px; align-items:center; padding:14px 18px; background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); backdrop-filter: blur(4px); }
    .logo { width:56px; height:56px; border-radius:12px; display:flex; align-items:center; justify-content:center;
      background: linear-gradient(135deg, rgba(255,255,255,0.92), rgba(255,255,255,0.8));
      box-shadow: 0 6px 18px rgba(11,99,255,0.06); }
    .logo .cas { font-family: "Abril Fatface", serif; color: var(--accent-blue); font-size:20px; line-height:1; }
    .header-text { display:flex; flex-direction:column; }
    .header-text .main { font-weight:600; font-size:18px; color:var(--black); }
    .header-text .sub { font-size:12px; color:rgba(11,11,11,0.6); }

    .chat-area { flex:1; display:flex; flex-direction:column; padding:12px; gap:10px; box-sizing:border-box; }
    #chatbox { flex:1; overflow:auto; padding:12px; display:flex; flex-direction:column; gap:10px; -webkit-overflow-scrolling:touch; }

    .suggestions { display:flex; gap:8px; flex-wrap:wrap; align-items:center; padding:6px 4px; }
    .suggest-btn { background: var(--suggest-bg); border:1px solid var(--suggest-border); padding:8px 12px; border-radius:999px; font-size:13px; cursor:pointer;
      box-shadow: 0 6px 16px rgba(11,30,60,0.03); transition: transform .12s ease, box-shadow .12s ease; }
    .suggest-btn:active { transform: translateY(1px); }

    .msg-row { display:flex; gap:8px; align-items:flex-end; }
    .msg-row.you { justify-content:flex-end; }
    .msg-row.bot { justify-content:flex-start; }

    .bubble { display:inline-block; padding:12px 14px; max-width:78%; word-wrap:break-word; font-size:15px; line-height:1.3; border-radius:18px; box-shadow: 0 8px 24px rgba(11,30,60,0.06); }
    .bubble.you { background: var(--accent-blue); color: #000; border-bottom-right-radius:6px; border-bottom-left-radius:18px; }
    .bubble.bot { background: #000; color: var(--bot-green); border-bottom-left-radius:6px; border-bottom-right-radius:18px; }

    .input-wrap { padding:12px; background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.42)); display:flex; gap:10px; align-items:center; }
    #userInput { flex:1; height:48px; padding:12px 18px; border-radius:28px 6px 28px 6px; border: none; outline:none; background: var(--input-bg); color: var(--black); font-size:15px; box-shadow: inset 0 2px 6px rgba(11,63,136,0.03); }
    #userInput::placeholder { color: rgba(11,11,11,0.4); }
    .send-btn { min-width:88px; height:44px; border-radius:12px; border:none; background: linear-gradient(90deg, var(--accent-blue), #0041d4); color: #fff; font-weight:600; cursor:pointer; box-shadow: 0 8px 20px rgba(11,63,136,0.12); }

    .typing { display:inline-flex; gap:6px; align-items:center; padding:8px 10px; border-radius:12px; background: rgba(0,0,0,0.8); }
    .dot { width:7px; height:7px; border-radius:50%; background: var(--bot-green); animation: blink 1s infinite; }
    .dot:nth-child(2){ animation-delay:0.2s; } .dot:nth-child(3){ animation-delay:0.4s; }
    @keyframes blink { 0%{opacity:0.2}50%{opacity:1}100%{opacity:0.2} }

    @media (max-width:560px) {
      .container { height:98vh; border-radius:12px; }
      .logo { width:48px; height:48px; }
      .bubble { font-size:14px; }
      #userInput { height:44px; font-size:14px; }
      .suggest-btn { font-size:12px; padding:7px 10px; }
    }
  </style>
</head>
<body>

  <div class="container" role="application" aria-label="CAS chatbot">
    <header>
      <div class="logo" aria-hidden="true"><div class="cas">CAS</div></div>
      <div class="header-text">
        <div class="main">CHATBOT - CAS</div>
        <div class="sub">College of Applied Science, Vattamkulam</div>
      </div>
    </header>

    <div class="chat-area">
      <div class="suggestions" id="suggestions">
        <button class="suggest-btn" data-query="timing">Time</button>
        <button class="suggest-btn" data-query="address">Address</button>
        <button class="suggest-btn" data-query="courses">Courses</button>
        <button class="suggest-btn" data-query="contact">Contact</button>
        <button class="suggest-btn" data-query="admission">Admission</button>
        <button class="suggest-btn" data-query="fees">Fees</button>
        <button class="suggest-btn" data-query="labs">Labs & Facilities</button>
        <button class="suggest-btn" data-query="scholarship">Scholarship</button>
      </div>

      <div id="chatbox" role="log" aria-live="polite"></div>

      <div class="input-wrap" aria-label="Message input">
        <input id="userInput" type="text" placeholder="Type a question about the college..." aria-label="Type your question">
        <button class="send-btn" id="sendBtn" aria-label="Send message">Send</button>
      </div>
    </div>
  </div>

  <script>
    // Knowledge base with all details
    const knowledge = [
      { q: ["time","timing","hours"], a: "College time is 9:30 AM to 3:45 PM." },
      { q: ["address","location","where"], a:
          "College Address: The Principal, College of Applied Science, Vattamkulam, Nellissery, Sukapuram (P.O.), Edappal, Malappuram, Kerala, PIN - 679576." },
      { q: ["phone","contact","telephone"], a: "Phone: 0494 2689655" },
      { q: ["email","mail"], a: "Email: casvattamkulam@ihrd.ac.in" },
      { q: ["course","courses","what courses","available courses"], a:
          "Courses: B.Sc (Computer Science), B.Sc (Electronics), BCA, B.Com with Computer Application, M.Sc (Computer Science), M.Com (Finance)." },
      { q: ["about","more","information","established"], a:
          "CAS Vattamkulam was established in 2005 by IHRD. Affiliated to University of Calicut. Located ~3 km from Edappal and offers UG & PG programs." },
      { q: ["cas","what is cas","cas meaning"], a:
          "CAS stands for College of Applied Science, Vattamkulam." },
      { q: ["affiliation","university","calicut university"], a:
          "The college is affiliated by Calicut University." },
      { q: ["admission"], a:
          "Admission details can be obtained from the college. Contact: Phone 0494 2689655 | Email: casvattamkulam@ihrd.ac.in" },
      { q: ["fee","fees","fee structure"], a:
          "Fee structure depends on the course. Please contact the college at Phone: 0494 2689655 or Email: casvattamkulam@ihrd.ac.in." },
      { q: ["scholarship","scholarships"], a:
          "Scholarships are available for eligible students." },
      { q: ["seminar hall"], a:
          "The college has a seminar hall to conduct seminars." },
      { q: ["computer lab","electronics lab","library","labs","facilities"], a:
          "The college has Computer Lab, Electronics Lab, Library, Fitness Program, NSS, Canteen, Career Guidance Cell, Placement Cell, Boomitresena Club, and ED Club to encourage entrepreneurship." },
      { q: ["exams","syllabus","exam"], a:
          "Exams and syllabus are provided and conducted by Calicut University." },
      { q: ["more info","tell me more","any more"], a:
          "Ask me if you want to know any more about the college." }
    ];

    function escapeHtml(str) {
      return str.replace(/[&<>"'`=\/]/g, function(s) {
        return ({ "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","=":"&#x3D;","`":"&#x60;" })[s];
      });
    }

    const chatbox = document.getElementById("chatbox");
    const userInput = document.getElementById("userInput");
    const sendBtn = document.getElementById("sendBtn");

    function appendBubble(kind, textHtml) {
      const row = document.createElement("div");
      row.className = "msg-row " + (kind === "you" ? "you" : "bot");
      const bubble = document.createElement("div");
      bubble.className = "bubble " + (kind === "you" ? "you" : "bot");
      bubble.innerHTML = textHtml;
      row.appendChild(bubble);
      chatbox.appendChild(row);
      chatbox.scrollTop = chatbox.scrollHeight;
    }

    function findAnswer(text) {
      const lower = text.toLowerCase();
      for (const item of knowledge) {
        for (const k of item.q) {
          if (lower.includes(k)) return item.a;
        }
      }
      return "I understand what you asked. Please contact the college: Phone 0494 2689655 | Email: casvattamkulam@ihrd.ac.in";
    }

    function showTyping() {
      const row = document.createElement("div");
      row.className = "msg-row bot";
      const wrap = document.createElement("div");
      wrap.className = "typing";
      const d1 = document.createElement("span"); d1.className = "dot";
      const d2 = document.createElement("span"); d2.className = "dot";
      const d3 = document.createElement("span"); d3.className = "dot";
      wrap.appendChild(d1); wrap.appendChild(d2); wrap.appendChild(d3);
      row.appendChild(wrap);
      chatbox.appendChild(row);
      chatbox.scrollTop = chatbox.scrollHeight;
      return row;
    }

    async function sendMessageWithText(text) {
      if (!text || !text.trim()) return;
      appendBubble("you", escapeHtml(text));
      userInput.value = "";
      userInput.focus();

      const tNode = showTyping();
      await new Promise(r => setTimeout(r, 650));
      tNode.remove();

      const answer = findAnswer(text);
      appendBubble("bot", escapeHtml(answer));
    }

    function sendMessage() { sendMessageWithText(userInput.value.trim()); }

    document.querySelectorAll(".suggest-btn").forEach(btn=>{
      btn.addEventListener("click", (e)=>{
        const q = e.currentTarget.getAttribute("data-query");
        sendMessageWithText(q);
      });
    });

    sendBtn.addEventListener("click", sendMessage);
    userInput.addEventListener("keydown", (e)=>{ if (e.key === "Enter") sendMessage(); });

    // initial greeting
    appendBubble("bot", "Hello! I am the CAS chatbot — try suggestions or type your question (time, address, courses, contact, admission, fees, labs, scholarship).");
  </script>
</body>
</html>
